<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Ajax Advandce</title>
</head>
<body>
    <form action="#">
        <input type="text" id="array-number">
        <button type="button" id="btn-cal">Calculate</button>
    </form>
    <hr>
    <form action="" enctype="multipart/form-data">
        <input type="file" id="file-to-upload">
        <button type="button" id="btn-upload">Upload</button>
    </form>

    <script src="jquery-3.2.1.min.js"></script>
    <script>

        $(function() {

            // Calculate sum and multiple
            $('#btn-cal').on('click', function() {
        
                var $stringNumber = $('#array-number').val();
                var array = $stringNumber.split(',');
                var data = JSON.stringify(array);

                $.ajax({
                   url: 'sum-multi.php',
                   method: 'post',
                   data: {'data': data },
                }).done((response) => {
                   
                    var result = JSON.parse(response);
                    alert("sum: "+ result.sum + " - multiple: "+ result.multiple);
                });
                
            });

            // Upload file

            $('#btn-upload').on('click', function() {
                var $fileData = $('#file-to-upload');
                var fileSize = $fileData.prop('files')[0].size;
                if (fileSize >= 5120) {
                    var formData = new FormData();
                    formData.append('file',$fileData.files[0]);

                    console.log(formData.get('file'));
                    $.ajax({
                        url: 'upload.php',
                        data: formData,
                        processData: false,
                        
                        type: 'POST'
                    })
                    .done((res) => {
                        alert("Upload success" + res);
                    });
                } else {
                    alert("File size must larger than 5Mb");
                }
                return false;
            });
        });
    </script>
</body>
</html>